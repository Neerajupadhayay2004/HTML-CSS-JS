<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SCE Admin Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ===== GLOBAL STYLES ===== */
    :root {
      --primary: #4e73df;
      --primary-light: #7a9ff7;
      --danger: #e74a3b;
      --success: #1cc88a;
      --warning: #f6c23e;
      --dark: #5a5c69;
      --light: #f8f9fc;
      --gray: #d1d3e2;
      --dark-gray: #6c757d;
      
      /* Dark mode variables */
      --bg-dark: #1a1a2e;
      --card-dark: #16213e;
      --text-dark: #e6e6e6;
      --border-dark: #2d4059;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      transition: background-color 0.3s, color 0.3s;
    }
    
    body {
      background: var(--light);
      color: #333;
    }
    
    body.dark-mode {
      background: var(--bg-dark);
      color: var(--text-dark);
    }
    
    /* ===== LAYOUT ===== */
    .container {
      display: grid;
      grid-template-columns: 250px 1fr;
      min-height: 100vh;
    }
    
    /* ===== SIDEBAR ===== */
    .sidebar {
      background: linear-gradient(180deg, var(--primary) 0%, #224abe 100%);
      color: white;
      padding: 20px 0;
      position: relative;
      z-index: 10;
    }
    
    .logo {
      text-align: center;
      padding: 15px;
      font-size: 1.5rem;
      font-weight: bold;
      border-bottom: 1px solid rgba(255,255,255,0.2);
      margin-bottom: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .logo i {
      margin-right: 10px;
    }
    
    .nav-item {
      padding: 15px 25px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
    }
    
    .nav-item:hover, .nav-item.active {
      background: rgba(255,255,255,0.1);
    }
    
    .nav-item i {
      margin-right: 10px;
      width: 20px;
      text-align: center;
    }
    
    /* ===== MAIN CONTENT ===== */
    .main-content {
      padding: 20px;
      overflow-x: hidden;
    }
    
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding: 10px 0;
    }
    
    .header h1 {
      font-size: 1.8rem;
      color: var(--dark);
    }
    
    .dark-mode .header h1 {
      color: var(--text-dark);
    }
    
    .header-controls {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .date {
      background: white;
      padding: 8px 15px;
      border-radius: 20px;
      font-weight: 500;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    
    .dark-mode .date {
      background: var(--card-dark);
      color: var(--text-dark);
    }
    
    .toggle-dark {
      background: var(--dark);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
    }
    
    .dark-mode .toggle-dark {
      background: var(--warning);
      color: var(--dark);
    }
    
    .toggle-dark:hover {
      transform: scale(1.1);
    }
    
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .card {
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      padding: 20px;
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      overflow: hidden;
    }
    
    .dark-mode .card {
      background: var(--card-dark);
      box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    }
    
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px rgba(0,0,0,0.1);
    }
    
    .dark-mode .card:hover {
      box-shadow: 0 10px 15px rgba(0,0,0,0.4);
    }
    
    .card-header {
      font-weight: bold;
      margin-bottom: 15px;
      color: var(--dark);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .dark-mode .card-header {
      color: var(--text-dark);
    }
    
    .card-value {
      font-size: 2rem;
      font-weight: bold;
      margin: 10px 0;
      transition: all 0.5s ease-out;
    }
    
    .card-success {
      color: var(--success);
    }
    
    .card-warning {
      color: var(--warning);
    }
    
    .card-danger {
      color: var(--danger);
    }
    
    .card-footer {
      font-size: 0.9rem;
      color: var(--dark-gray);
    }
    
    .dark-mode .card-footer {
      color: var(--gray);
    }
    
    /* ===== CHARTS ===== */
    .chart-container {
      position: relative;
      height: 300px;
      margin-bottom: 30px;
    }
    
    /* ===== TABLES ===== */
    table {
      width: 100%;
      border-collapse: collapse;
    }
    
    th, td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    
    .dark-mode th, .dark-mode td {
      border-bottom: 1px solid var(--border-dark);
    }
    
    th {
      background: #f8f9fc;
      font-weight: bold;
    }
    
    .dark-mode th {
      background: var(--card-dark);
      color: var(--text-dark);
    }
    
    tr:hover {
      background: #f5f5f5;
    }
    
    .dark-mode tr:hover {
      background: rgba(255,255,255,0.05);
    }
    
    .badge {
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: bold;
      display: inline-block;
    }
    
    .badge-success {
      background: #d1fae5;
      color: var(--success);
    }
    
    .badge-warning {
      background: #fef3c7;
      color: var(--warning);
    }
    
    .badge-danger {
      background: #fee2e2;
      color: var(--danger);
    }
    
    .badge-primary {
      background: #dbe4ff;
      color: var(--primary);
    }
    
    .dark-mode .badge-success {
      background: rgba(28, 200, 138, 0.2);
    }
    
    .dark-mode .badge-warning {
      background: rgba(246, 194, 62, 0.2);
    }
    
    .dark-mode .badge-danger {
      background: rgba(231, 74, 59, 0.2);
    }
    
    .dark-mode .badge-primary {
      background: rgba(78, 115, 223, 0.2);
    }
    
    /* ===== NOTIFICATIONS ===== */
    .notification-bell {
      position: relative;
      cursor: pointer;
    }
    
    .notification-count {
      position: absolute;
      top: -5px;
      right: -5px;
      background: var(--danger);
      color: white;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      font-size: 0.7rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* ===== LOADING ANIMATION ===== */
    .loading {
      position: relative;
      overflow: hidden;
    }
    
    .loading::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: loading 1.5s infinite;
    }
    
    @keyframes loading {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    /* ===== RESPONSIVE ===== */
    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr;
      }
      
      .sidebar {
        display: none;
      }
      
      .cards {
        grid-template-columns: 1fr;
      }
      
      .header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }
    }
    
    /* ===== ANIMATIONS ===== */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
    
    /* ===== PROGRESS BARS ===== */
    .progress-container {
      width: 100%;
      height: 10px;
      background: #e9ecef;
      border-radius: 5px;
      margin-top: 10px;
      overflow: hidden;
    }
    
    .dark-mode .progress-container {
      background: var(--border-dark);
    }
    
    .progress-bar {
      height: 100%;
      border-radius: 5px;
      transition: width 0.5s ease;
    }
    
    .progress-success {
      background: var(--success);
    }
    
    .progress-warning {
      background: var(--warning);
    }
    
    .progress-danger {
      background: var(--danger);
    }
    
    /* ===== TOOLTIP ===== */
    .tooltip {
      position: relative;
      display: inline-block;
    }
    
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 200px;
      background-color: #555;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -100px;
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
    
    /* ===== MODAL ===== */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
    }
    
    .modal-content {
      background-color: white;
      margin: 5% auto;
      padding: 25px;
      border-radius: 10px;
      width: 80%;
      max-width: 700px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      position: relative;
    }
    
    .dark-mode .modal-content {
      background-color: var(--card-dark);
      color: var(--text-dark);
    }
    
    .close-modal {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--dark-gray);
    }
    
    .dark-mode .close-modal {
      color: var(--gray);
    }
    
    /* ===== FORM STYLES ===== */
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    .form-control {
      width: 100%;
      padding: 10px 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 1rem;
    }
    
    .dark-mode .form-control {
      background-color: var(--bg-dark);
      border-color: var(--border-dark);
      color: var(--text-dark);
    }
    
    .form-row {
      display: flex;
      gap: 15px;
    }
    
    .form-row .form-group {
      flex: 1;
    }
    
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s;
    }
    
    .btn-primary {
      background-color: var(--primary);
      color: white;
    }
    
    .btn-success {
      background-color: var(--success);
      color: white;
    }
    
    .btn-danger {
      background-color: var(--danger);
      color: white;
    }
    
    .btn:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }
    
    /* ===== TABS ===== */
    .tabs {
      display: flex;
      border-bottom: 1px solid #ddd;
      margin-bottom: 20px;
    }
    
    .dark-mode .tabs {
      border-bottom-color: var(--border-dark);
    }
    
    .tab {
      padding: 10px 20px;
      cursor: pointer;
      border-bottom: 3px solid transparent;
    }
    
    .tab.active {
      border-bottom-color: var(--primary);
      font-weight: bold;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* ===== SEARCH BAR ===== */
    .search-container {
      margin-bottom: 20px;
    }
    
    .search-input {
      width: 100%;
      padding: 10px 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 1rem;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%235a5c69" viewBox="0 0 16 16"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/></svg>');
      background-repeat: no-repeat;
      background-position: 15px center;
      background-size: 15px;
      padding-left: 40px;
    }
    
    .dark-mode .search-input {
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23e6e6e6" viewBox="0 0 16 16"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/></svg>');
      background-color: var(--bg-dark);
      border-color: var(--border-dark);
      color: var(--text-dark);
    }
    
    /* ===== CUSTOMER CARD ===== */
    .customer-card {
      display: flex;
      align-items: center;
      padding: 15px;
      border: 1px solid #eee;
      border-radius: 8px;
      margin-bottom: 10px;
      transition: all 0.3s;
    }
    
    .dark-mode .customer-card {
      border-color: var(--border-dark);
    }
    
    .customer-card:hover {
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    .dark-mode .customer-card:hover {
      box-shadow: 0 3px 10px rgba(0,0,0,0.3);
    }
    
    .customer-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: var(--primary-light);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      margin-right: 15px;
      flex-shrink: 0;
    }
    
    .customer-info {
      flex: 1;
    }
    
    .customer-name {
      font-weight: bold;
      margin-bottom: 5px;
    }
    
    .customer-detail {
      font-size: 0.9rem;
      color: var(--dark-gray);
    }
    
    .dark-mode .customer-detail {
      color: var(--gray);
    }
    
    .customer-actions {
      display: flex;
      gap: 10px;
    }
    
    .action-btn {
      padding: 5px 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.8rem;
    }
    
    /* ===== ORDER DETAILS ===== */
    .order-items {
      margin-bottom: 20px;
    }
    
    .order-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #eee;
    }
    
    .dark-mode .order-item {
      border-bottom-color: var(--border-dark);
    }
    
    .order-total {
      font-weight: bold;
      text-align: right;
      margin-top: 10px;
      font-size: 1.1rem;
    }
    
    /* ===== TOAST NOTIFICATION ===== */
    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 15px;
      background: var(--dark);
      color: white;
      border-radius: 5px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      z-index: 1000;
      display: flex;
      align-items: center;
    }
    
    .toast i {
      margin-right: 10px;
    }
    
    .toast-success {
      background: var(--success);
    }
    
    .toast-error {
      background: var(--danger);
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- SIDEBAR -->
    <div class="sidebar">
      <div class="logo">
        <i class="fas fa-utensils"></i> SCE Dashboard
      </div>
      <div class="nav-item" id="nav-analytics">
        <i class="fas fa-chart-line"></i> Analytics
      </div>
      <div class="nav-item active" id="nav-orders">
        <i class="fas fa-clipboard-list"></i> Orders
      </div>
      <div class="nav-item" id="nav-customers">
        <i class="fas fa-users"></i> Customers
      </div>
      <div class="nav-item" id="nav-inventory">
        <i class="fas fa-boxes"></i> Inventory
      </div>
      <div class="nav-item" id="nav-menu">
        <i class="fas fa-utensils"></i> Menu
      </div>
      <div class="nav-item" id="nav-settings">
        <i class="fas fa-cog"></i> Settings
      </div>
    </div>
    
    <!-- MAIN CONTENT -->
    <div class="main-content">
      <!-- ANALYTICS PAGE -->
      <div class="page" id="page-analytics">
        <div class="header">
          <h1>Smart Cafeteria Analytics</h1>
          <div class="header-controls">
            <div class="date">
              <i class="fas fa-calendar-alt"></i> Today: <span id="current-date">Loading...</span>
            </div>
            <div class="notification-bell">
              <i class="fas fa-bell"></i>
              <span class="notification-count">3</span>
            </div>
            <button class="toggle-dark" title="Toggle Dark Mode">
              <i class="fas fa-moon"></i>
            </button>
          </div>
        </div>
        
        <!-- CARDS -->
        <div class="cards">
          <div class="card">
            <div class="card-header">
              <span>Predicted Demand</span>
              <span class="badge badge-success">+12%</span>
            </div>
            <div class="card-value card-success" id="predicted-demand">184</div>
            <div class="card-footer">Meals expected today</div>
            <div class="progress-container">
              <div class="progress-bar progress-success" style="width: 75%"></div>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <span>Food Waste</span>
              <span class="badge badge-danger">-8%</span>
            </div>
            <div class="card-value card-danger" id="food-waste">24</div>
            <div class="card-footer">Meals wasted yesterday</div>
            <div class="progress-container">
              <div class="progress-bar progress-danger" style="width: 15%"></div>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <span>Active Orders</span>
              <span class="badge badge-warning">Pending</span>
            </div>
            <div class="card-value card-warning" id="active-orders">42</div>
            <div class="card-footer">Being prepared now</div>
            <div class="progress-container">
              <div class="progress-bar progress-warning" style="width: 50%"></div>
            </div>
          </div>
        </div>
        
        <!-- CHARTS ROW -->
        <div class="cards">
          <!-- DEMAND CHART -->
          <div class="card">
            <div class="card-header">
              <span>Weekly Demand Forecast</span>
              <div class="tooltip">
                <i class="fas fa-info-circle"></i>
                <span class="tooltiptext">AI-powered demand prediction based on historical data and current trends</span>
              </div>
            </div>
            <div class="chart-container">
              <canvas id="demandChart"></canvas>
            </div>
          </div>
          
          <!-- NUTRITION CHART -->
          <div class="card">
            <div class="card-header">
              <span>Meal Nutrition Distribution</span>
            </div>
            <div class="chart-container">
              <div id="nutritionChart"></div>
            </div>
          </div>
        </div>
        
        <!-- BOTTOM ROW -->
        <div class="cards">
          <!-- WASTE REDUCTION -->
          <div class="card pulse">
            <div class="card-header">
              <span>Waste Reduction Tips</span>
              <i class="fas fa-lightbulb"></i>
            </div>
            <ul id="waste-tips" style="list-style-type: none; line-height: 2;">
              <li><i class="fas fa-check-circle" style="color: var(--success);"></i> Adjust portion sizes based on demand</li>
              <li><i class="fas fa-check-circle" style="color: var(--success);"></i> Offer discounts for last-hour purchases</li>
              <li><i class="fas fa-check-circle" style="color: var(--success);"></i> Optimize inventory with AI suggestions</li>
            </ul>
            <button id="refresh-tips" style="margin-top: 15px; padding: 8px 15px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer;">
              <i class="fas fa-sync-alt"></i> Generate More Tips
            </button>
          </div>
          
          <!-- QUEUE MANAGEMENT -->
          <div class="card">
            <div class="card-header">
              <span>Queue Management</span>
            </div>
            <div class="chart-container">
              <canvas id="queueChart"></canvas>
            </div>
            <div class="card-footer" style="text-align: center; margin-top: -20px;">
              Peak hours: 12:00 PM - 1:30 PM
            </div>
          </div>
          
          <!-- INVENTORY ALERTS -->
          <div class="card">
            <div class="card-header">
              <span>Inventory Alerts</span>
              <span class="badge badge-danger">3</span>
            </div>
            <div id="inventory-alerts" style="margin-top: 10px;">
              <div class="alert-item" style="padding: 10px; border-bottom: 1px solid #eee; display: flex; align-items: center;">
                <i class="fas fa-exclamation-triangle" style="color: var(--danger); margin-right: 10px;"></i>
                <span>Low on chicken breasts (12% remaining)</span>
              </div>
              <div class="alert-item" style="padding: 10px; border-bottom: 1px solid #eee; display: flex; align-items: center;">
                <i class="fas fa-exclamation-triangle" style="color: var(--warning); margin-right: 10px;"></i>
                <span>Vegetables stock depleting (30% remaining)</span>
              </div>
              <div class="alert-item" style="padding: 10px; display: flex; align-items: center;">
                <i class="fas fa-info-circle" style="color: var(--primary); margin-right: 10px;"></i>
                <span>Bread delivery arriving in 2 hours</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- ORDERS PAGE -->
      <div class="page active" id="page-orders">
        <div class="header">
          <h1>Order Management</h1>
          <div class="header-controls">
            <div class="date">
              <i class="fas fa-calendar-alt"></i> Today: <span id="orders-date">Loading...</span>
            </div>
            <button class="btn btn-primary" id="new-order-btn">
              <i class="fas fa-plus"></i> New Order
            </button>
            <div class="notification-bell">
              <i class="fas fa-bell"></i>
              <span class="notification-count">3</span>
            </div>
            <button class="toggle-dark" title="Toggle Dark Mode">
              <i class="fas fa-moon"></i>
            </button>
          </div>
        </div>
        
        <div class="search-container">
          <input type="text" class="search-input" id="order-search" placeholder="Search orders...">
        </div>
        
        <!-- TABS -->
        <div class="tabs">
          <div class="tab active" data-tab="all">All Orders</div>
          <div class="tab" data-tab="pending">Pending</div>
          <div class="tab" data-tab="preparing">Preparing</div>
          <div class="tab" data-tab="completed">Completed</div>
          <div class="tab" data-tab="cancelled">Cancelled</div>
        </div>
        
        <!-- TAB CONTENT -->
        <div class="tab-content active" id="tab-all">
          <div class="card">
            <div class="card-header">
              <span>All Orders</span>
              <button id="refresh-orders" class="btn btn-primary">
                <i class="fas fa-sync-alt"></i> Refresh
              </button>
            </div>
            <div style="overflow-x: auto;">
              <table id="orders-table">
                <thead>
                  <tr>
                    <th>Order ID</th>
                    <th>Customer</th>
                    <th>Items</th>
                    <th>Total</th>
                    <th>Time</th>
                    <th>Status</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Filled by JavaScript -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <div class="tab-content" id="tab-pending">
          <div class="card">
            <div class="card-header">
              <span>Pending Orders</span>
            </div>
            <div style="overflow-x: auto;">
              <table id="pending-orders-table">
                <thead>
                  <tr>
                    <th>Order ID</th>
                    <th>Customer</th>
                    <th>Items</th>
                    <th>Total</th>
                    <th>Time</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Filled by JavaScript -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <div class="tab-content" id="tab-preparing">
          <div class="card">
            <div class="card-header">
              <span>Orders in Preparation</span>
            </div>
            <div style="overflow-x: auto;">
              <table id="preparing-orders-table">
                <thead>
                  <tr>
                    <th>Order ID</th>
                    <th>Customer</th>
                    <th>Items</th>
                    <th>Total</th>
                    <th>Time</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Filled by JavaScript -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <div class="tab-content" id="tab-completed">
          <div class="card">
            <div class="card-header">
              <span>Completed Orders</span>
            </div>
            <div style="overflow-x: auto;">
              <table id="completed-orders-table">
                <thead>
                  <tr>
                    <th>Order ID</th>
                    <th>Customer</th>
                    <th>Items</th>
                    <th>Total</th>
                    <th>Time</th>
                    <th>Completed At</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Filled by JavaScript -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <div class="tab-content" id="tab-cancelled">
          <div class="card">
            <div class="card-header">
              <span>Cancelled Orders</span>
            </div>
            <div style="overflow-x: auto;">
              <table id="cancelled-orders-table">
                <thead>
                  <tr>
                    <th>Order ID</th>
                    <th>Customer</th>
                    <th>Items</th>
                    <th>Total</th>
                    <th>Time</th>
                    <th>Cancelled At</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Filled by JavaScript -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      
      <!-- CUSTOMERS PAGE -->
      <div class="page" id="page-customers">
        <div class="header">
          <h1>Customer Management</h1>
          <div class="header-controls">
            <div class="date">
              <i class="fas fa-calendar-alt"></i> Today: <span id="customers-date">Loading...</span>
            </div>
            <button class="btn btn-primary" id="new-customer-btn">
              <i class="fas fa-plus"></i> New Customer
            </button>
            <button class="toggle-dark" title="Toggle Dark Mode">
              <i class="fas fa-moon"></i>
            </button>
          </div>
        </div>
        
        <div class="search-container">
          <input type="text" class="search-input" id="customer-search" placeholder="Search customers...">
        </div>
        
        <div class="card">
          <div class="card-header">
            <span>Customer List</span>
            <span class="badge badge-primary" id="customer-count">0 customers</span>
          </div>
          
          <div id="customers-list">
            <!-- Customer cards will be added here -->
          </div>
        </div>
      </div>
      
      <!-- INVENTORY PAGE -->
      <div class="page" id="page-inventory">
        <div class="header">
          <h1>Inventory Management</h1>
          <div class="header-controls">
            <div class="date">
              <i class="fas fa-calendar-alt"></i> Today: <span id="inventory-date">Loading...</span>
            </div>
            <button class="btn btn-primary" id="add-inventory-item">
              <i class="fas fa-plus"></i> Add Item
            </button>
            <button class="toggle-dark" title="Toggle Dark Mode">
              <i class="fas fa-moon"></i>
            </button>
          </div>
        </div>
        
        <div class="cards">
          <div class="card">
            <div class="card-header">
              <span>Inventory Summary</span>
            </div>
            <div class="chart-container">
              <canvas id="inventoryChart"></canvas>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <span>Low Stock Items</span>
              <span class="badge badge-danger" id="low-stock-count">0</span>
            </div>
            <div id="low-stock-items">
              <!-- Low stock items will be added here -->
            </div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <span>All Inventory Items</span>
          </div>
          <div style="overflow-x: auto;">
            <table id="inventory-table">
              <thead>
                <tr>
                  <th>Item ID</th>
                  <th>Name</th>
                  <th>Category</th>
                  <th>Current Stock</th>
                  <th>Unit</th>
                  <th>Threshold</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- Filled by JavaScript -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
      
      <!-- MENU PAGE -->
      <div class="page" id="page-menu">
        <div class="header">
          <h1>Menu Management</h1>
          <div class="header-controls">
            <div class="date">
              <i class="fas fa-calendar-alt"></i> Today: <span id="menu-date">Loading...</span>
            </div>
            <button class="btn btn-primary" id="add-menu-item">
              <i class="fas fa-plus"></i> Add Menu Item
            </button>
            <button class="toggle-dark" title="Toggle Dark Mode">
              <i class="fas fa-moon"></i>
            </button>
          </div>
        </div>
        
        <div class="cards">
          <div class="card">
            <div class="card-header">
              <span>Popular Items</span>
            </div>
            <div class="chart-container">
              <canvas id="popularItemsChart"></canvas>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <span>Menu Categories</span>
            </div>
            <div id="menu-categories">
              <!-- Categories will be added here -->
            </div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <span>Menu Items</span>
          </div>
          <div style="overflow-x: auto;">
            <table id="menu-table">
              <thead>
                <tr>
                  <th>Item ID</th>
                  <th>Name</th>
                  <th>Category</th>
                  <th>Price</th>
                  <th>Ingredients</th>
                  <th>Availability</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- Filled by JavaScript -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
      
      <!-- SETTINGS PAGE -->
      <div class="page" id="page-settings">
        <div class="header">
          <h1>System Settings</h1>
          <div class="header-controls">
            <div class="date">
              <i class="fas fa-calendar-alt"></i> Today: <span id="settings-date">Loading...</span>
            </div>
            <button class="toggle-dark" title="Toggle Dark Mode">
              <i class="fas fa-moon"></i>
            </button>
          </div>
        </div>
        
        <div class="cards">
          <div class="card">
            <div class="card-header">
              <span>General Settings</span>
            </div>
            <form id="general-settings">
              <div class="form-group">
                <label for="cafeteria-name">Cafeteria Name</label>
                <input type="text" id="cafeteria-name" class="form-control" placeholder="Enter cafeteria name">
              </div>
              
              <div class="form-group">
                <label for="opening-hours">Opening Hours</label>
                <input type="text" id="opening-hours" class="form-control" placeholder="e.g. 8:00 AM - 6:00 PM">
              </div>
              
              <div class="form-group">
                <label for="timezone">Timezone</label>
                <select id="timezone" class="form-control">
                  <option value="GMT+5:30">(GMT+5:30) India Standard Time</option>
                  <option value="GMT-5:00">(GMT-5:00) Eastern Time</option>
                  <option value="GMT+0:00">(GMT+0:00) Greenwich Mean Time</option>
                </select>
              </div>
              
              <button type="submit" class="btn btn-primary">Save Settings</button>
            </form>
          </div>
          
          <div class="card">
            <div class="card-header">
              <span>User Management</span>
            </div>
            <div style="overflow-x: auto;">
              <table id="users-table">
                <thead>
                  <tr>
                    <th>User ID</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Role</th>
                    <th>Last Login</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>Admin User</td>
                    <td>admin@cafeteria.com</td>
                    <td><span class="badge badge-primary">Administrator</span></td>
                    <td>Today, 10:30 AM</td>
                    <td>
                      <button class="btn btn-primary btn-sm">Edit</button>
                    </td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>Manager User</td>
                    <td>manager@cafeteria.com</td>
                    <td><span class="badge badge-success">Manager</span></td>
                    <td>Today, 9:15 AM</td>
                    <td>
                      <button class="btn btn-primary btn-sm">Edit</button>
                    </td>
                  </tr>
                  <tr>
                    <td>3</td>
                    <td>Staff User</td>
                    <td>staff@cafeteria.com</td>
                    <td><span class="badge badge-warning">Staff</span></td>
                    <td>Yesterday, 4:45 PM</td>
                    <td>
                      <button class="btn btn-primary btn-sm">Edit</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div style="margin-top: 15px;">
              <button class="btn btn-primary" id="add-user-btn">
                <i class="fas fa-plus"></i> Add User
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- MODALS -->
  
  <!-- NEW CUSTOMER MODAL -->
  <div class="modal" id="customer-modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2 id="customer-modal-title">Add New Customer</h2>
      
      <form id="customer-form">
        <div class="form-row">
          <div class="form-group">
            <label for="customer-first-name">First Name</label>
            <input type="text" id="customer-first-name" class="form-control" required>
          </div>
          
          <div class="form-group">
            <label for="customer-last-name">Last Name</label>
            <input type="text" id="customer-last-name" class="form-control" required>
          </div>
        </div>
        
        <div class="form-group">
          <label for="customer-email">Email</label>
          <input type="email" id="customer-email" class="form-control" required>
        </div>
        
        <div class="form-group">
          <label for="customer-phone">Phone</label>
          <input type="tel" id="customer-phone" class="form-control" required>
        </div>
        
        <div class="form-group">
          <label for="customer-address">Address</label>
          <textarea id="customer-address" class="form-control" rows="3"></textarea>
        </div>
        
        <div class="form-group">
          <label for="customer-notes">Notes</label>
          <textarea id="customer-notes" class="form-control" rows="2"></textarea>
        </div>
        
        <input type="hidden" id="customer-id">
        
        <div class="form-group">
          <button type="submit" class="btn btn-primary">Save Customer</button>
          <button type="button" class="btn btn-danger" id="delete-customer-btn" style="display: none;">Delete Customer</button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- NEW ORDER MODAL -->
  <div class="modal" id="order-modal">
    <div class="modal-content" style="max-width: 800px;">
      <span class="close-modal">&times;</span>
      <h2 id="order-modal-title">Create New Order</h2>
      
      <div class="form-row">
        <div class="form-group" style="flex: 1;">
          <label for="order-customer">Customer</label>
          <select id="order-customer" class="form-control" required>
            <option value="">Select customer</option>
            <!-- Customers will be added by JavaScript -->
          </select>
        </div>
        
        <div class="form-group" style="flex: 1;">
          <label for="order-type">Order Type</label>
          <select id="order-type" class="form-control" required>
            <option value="dine-in">Dine In</option>
            <option value="takeaway">Takeaway</option>
            <option value="delivery">Delivery</option>
          </select>
        </div>
      </div>
      
      <div class="form-group">
        <label for="order-notes">Order Notes</label>
        <textarea id="order-notes" class="form-control" rows="2"></textarea>
      </div>
      
      <div class="card" style="margin-bottom: 20px;">
        <div class="card-header">
          <span>Menu Items</span>
        </div>
        <div style="overflow-x: auto;">
          <table id="menu-items-table">
            <thead>
              <tr>
                <th>Item</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Total</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <!-- Menu items will be added by JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
      
      <div class="card">
        <div class="card-header">
          <span>Order Summary</span>
        </div>
        <div class="order-items">
          <div class="order-item">
            <span>Subtotal:</span>
            <span id="order-subtotal">₹0.00</span>
          </div>
          <div class="order-item">
            <span>Tax (5%):</span>
            <span id="order-tax">₹0.00</span>
          </div>
          <div class="order-item">
            <span>Discount:</span>
            <span id="order-discount">₹0.00</span>
          </div>
          <div class="order-item" style="border-bottom: none;">
            <span>Total:</span>
            <span id="order-total" style="font-weight: bold;">₹0.00</span>
          </div>
        </div>
      </div>
      
      <input type="hidden" id="order-id">
      
      <div class="form-group" style="margin-top: 20px;">
        <button type="button" class="btn btn-primary" id="save-order-btn">Save Order</button>
        <button type="button" class="btn btn-success" id="complete-order-btn">Complete Order</button>
        <button type="button" class="btn btn-danger" id="cancel-order-btn">Cancel Order</button>
      </div>
    </div>
  </div>
  
  <!-- INVENTORY ITEM MODAL -->
  <div class="modal" id="inventory-modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2 id="inventory-modal-title">Add Inventory Item</h2>
      
      <form id="inventory-form">
        <div class="form-group">
          <label for="inventory-name">Item Name</label>
          <input type="text" id="inventory-name" class="form-control" required>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="inventory-category">Category</label>
            <select id="inventory-category" class="form-control" required>
              <option value="">Select category</option>
              <option value="vegetables">Vegetables</option>
              <option value="fruits">Fruits</option>
              <option value="dairy">Dairy</option>
              <option value="meat">Meat</option>
              <option value="grains">Grains</option>
              <option value="spices">Spices</option>
              <option value="beverages">Beverages</option>
              <option value="other">Other</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="inventory-unit">Unit</label>
            <select id="inventory-unit" class="form-control" required>
              <option value="">Select unit</option>
              <option value="kg">Kilogram (kg)</option>
              <option value="g">Gram (g)</option>
              <option value="l">Liter (l)</option>
              <option value="ml">Milliliter (ml)</option>
              <option value="pcs">Pieces</option>
            </select>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="inventory-stock">Current Stock</label>
            <input type="number" id="inventory-stock" class="form-control" step="0.01" required>
          </div>
          
          <div class="form-group">
            <label for="inventory-threshold">Low Stock Threshold</label>
            <input type="number" id="inventory-threshold" class="form-control" step="0.01" required>
          </div>
        </div>
        
        <div class="form-group">
          <label for="inventory-supplier">Supplier</label>
          <input type="text" id="inventory-supplier" class="form-control">
        </div>
        
        <div class="form-group">
          <label for="inventory-notes">Notes</label>
          <textarea id="inventory-notes" class="form-control" rows="2"></textarea>
        </div>
        
        <input type="hidden" id="inventory-item-id">
        
        <div class="form-group">
          <button type="submit" class="btn btn-primary">Save Item</button>
          <button type="button" class="btn btn-danger" id="delete-inventory-btn" style="display: none;">Delete Item</button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- MENU ITEM MODAL -->
  <div class="modal" id="menu-item-modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2 id="menu-item-modal-title">Add Menu Item</h2>
      
      <form id="menu-item-form">
        <div class="form-group">
          <label for="menu-item-name">Item Name</label>
          <input type="text" id="menu-item-name" class="form-control" required>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="menu-item-category">Category</label>
            <select id="menu-item-category" class="form-control" required>
              <option value="">Select category</option>
              <option value="starters">Starters</option>
              <option value="main-course">Main Course</option>
              <option value="desserts">Desserts</option>
              <option value="beverages">Beverages</option>
              <option value="snacks">Snacks</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="menu-item-price">Price (₹)</label>
            <input type="number" id="menu-item-price" class="form-control" step="0.01" required>
          </div>
        </div>
        
        <div class="form-group">
          <label for="menu-item-description">Description</label>
          <textarea id="menu-item-description" class="form-control" rows="2"></textarea>
        </div>
        
        <div class="form-group">
          <label for="menu-item-ingredients">Ingredients</label>
          <textarea id="menu-item-ingredients" class="form-control" rows="3"></textarea>
        </div>
        
        <div class="form-group">
          <label for="menu-item-image">Image URL</label>
          <input type="text" id="menu-item-image" class="form-control">
        </div>
        
        <div class="form-group">
          <label>
            <input type="checkbox" id="menu-item-available"> Available
          </label>
        </div>
        
        <input type="hidden" id="menu-item-id">
        
        <div class="form-group">
          <button type="submit" class="btn btn-primary">Save Item</button>
          <button type="button" class="btn btn-danger" id="delete-menu-item-btn" style="display: none;">Delete Item</button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- USER MODAL -->
  <div class="modal" id="user-modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2 id="user-modal-title">Add User</h2>
      
      <form id="user-form">
        <div class="form-row">
          <div class="form-group">
            <label for="user-first-name">First Name</label>
            <input type="text" id="user-first-name" class="form-control" required>
          </div>
          
          <div class="form-group">
            <label for="user-last-name">Last Name</label>
            <input type="text" id="user-last-name" class="form-control" required>
          </div>
        </div>
        
        <div class="form-group">
          <label for="user-email">Email</label>
          <input type="email" id="user-email" class="form-control" required>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="user-password">Password</label>
            <input type="password" id="user-password" class="form-control">
          </div>
          
          <div class="form-group">
            <label for="user-role">Role</label>
            <select id="user-role" class="form-control" required>
              <option value="admin">Administrator</option>
              <option value="manager">Manager</option>
              <option value="staff">Staff</option>
            </select>
          </div>
        </div>
        
        <input type="hidden" id="user-id">
        
        <div class="form-group">
          <button type="submit" class="btn btn-primary">Save User</button>
          <button type="button" class="btn btn-danger" id="delete-user-btn" style="display: none;">Delete User</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // ===== GLOBAL VARIABLES =====
    let customers = [];
    let orders = [];
    let inventory = [];
    let menuItems = [];
    let users = [];
    let currentPage = 'orders';
    
    // ===== INITIALIZATION =====
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize data
      initializeData();
      
      // Set current date
      updateDateTime();
      setInterval(updateDateTime, 60000); // Update every minute
      
      // Initialize charts
      renderCharts();
      
      // Set up event listeners
      setupEventListeners();
      
      // Load initial data
      loadInitialData();
      
      // Simulate live data updates
      setInterval(simulateLiveData, 5000);
    });
    
    // ===== DATA INITIALIZATION =====
    function initializeData() {
      // Generate sample customers
      customers = [
        { id: 1, firstName: 'John', lastName: 'Doe', email: 'john.doe@example.com', phone: '9876543210', address: '123 Main St, City', notes: 'Regular customer', orders: 5 },
        { id: 2, firstName: 'Jane', lastName: 'Smith', email: 'jane.smith@example.com', phone: '9876543211', address: '456 Oak Ave, Town', notes: 'Prefers vegetarian options', orders: 3 },
        { id: 3, firstName: 'Robert', lastName: 'Johnson', email: 'robert.j@example.com', phone: '9876543212', address: '789 Pine Rd, Village', notes: 'Allergic to nuts', orders: 7 },
        { id: 4, firstName: 'Emily', lastName: 'Williams', email: 'emily.w@example.com', phone: '9876543213', address: '321 Elm St, City', notes: 'Loyal customer', orders: 12 },
        { id: 5, firstName: 'Michael', lastName: 'Brown', email: 'michael.b@example.com', phone: '9876543214', address: '654 Maple Dr, Town', notes: 'Corporate account', orders: 8 }
      ];
      
      // Generate sample menu items
      menuItems = [
        { id: 1, name: 'Veggie Burger', category: 'main-course', price: 120, description: 'Delicious veggie patty with fresh veggies', ingredients: 'Bun, veggie patty, lettuce, tomato, onion, sauce', image: '', available: true },
        { id: 2, name: 'Chicken Wrap', category: 'main-course', price: 150, description: 'Grilled chicken with veggies in a wrap', ingredients: 'Tortilla, chicken, lettuce, tomato, sauce', image: '', available: true },
        { id: 3, name: 'Salad Bowl', category: 'main-course', price: 100, description: 'Fresh garden salad', ingredients: 'Lettuce, cucumber, tomato, olives, dressing', image: '', available: true },
        { id: 4, name: 'Pasta', category: 'main-course', price: 130, description: 'Pasta with your choice of sauce', ingredients: 'Pasta, sauce, cheese, herbs', image: '', available: true },
        { id: 5, name: 'Sandwich', category: 'snacks', price: 80, description: 'Classic sandwich', ingredients: 'Bread, cheese, veggies, sauce', image: '', available: true },
        { id: 6, name: 'Pizza Slice', category: 'snacks', price: 90, description: 'Slice of cheese pizza', ingredients: 'Dough, tomato sauce, cheese', image: '', available: true },
        { id: 7, name: 'Rice Bowl', category: 'main-course', price: 110, description: 'Steamed rice with veggies and protein', ingredients: 'Rice, vegetables, sauce', image: '', available: true },
        { id: 8, name: 'Soup', category: 'starters', price: 70, description: 'Soup of the day', ingredients: 'Vegetables, broth, spices', image: '', available: true },
        { id: 9, name: 'Taco', category: 'snacks', price: 60, description: 'Crispy taco with filling', ingredients: 'Taco shell, filling, veggies, sauce', image: '', available: true },
        { id: 10, name: 'Sushi Roll', category: 'main-course', price: 180, description: 'Fresh sushi roll', ingredients: 'Rice, seaweed, fish/vegetables', image: '', available: true },
        { id: 11, name: 'Chocolate Cake', category: 'desserts', price: 90, description: 'Rich chocolate cake', ingredients: 'Flour, sugar, cocoa, eggs', image: '', available: true },
        { id: 12, name: 'Iced Tea', category: 'beverages', price: 50, description: 'Refreshing iced tea', ingredients: 'Tea, water, sugar, lemon', image: '', available: true }
      ];
      
      // Generate sample inventory items
      inventory = [
        { id: 1, name: 'Chicken Breast', category: 'meat', stock: 5.2, unit: 'kg', threshold: 2, supplier: 'ABC Meats', notes: 'Fresh chicken breast' },
        { id: 2, name: 'Tomatoes', category: 'vegetables', stock: 12.5, unit: 'kg', threshold: 5, supplier: 'Fresh Farms', notes: 'Organic tomatoes' },
        { id: 3, name: 'Lettuce', category: 'vegetables', stock: 8.0, unit: 'kg', threshold: 3, supplier: 'Green Valley', notes: 'Iceberg lettuce' },
        { id: 4, name: 'Bread', category: 'grains', stock: 20, unit: 'pcs', threshold: 10, supplier: 'Bakery Delight', notes: 'White sandwich bread' },
        { id: 5, name: 'Cheese', category: 'dairy', stock: 3.5, unit: 'kg', threshold: 1, supplier: 'Dairy King', notes: 'Cheddar cheese' },
        { id: 6, name: 'Rice', category: 'grains', stock: 25.0, unit: 'kg', threshold: 10, supplier: 'Golden Grains', notes: 'Basmati rice' },
        { id: 7, name: 'Pasta', category: 'grains', stock: 15.0, unit: 'kg', threshold: 5, supplier: 'Italian Foods', notes: 'Spaghetti pasta' },
        { id: 8, name: 'Cooking Oil', category: 'other', stock: 8.0, unit: 'l', threshold: 2, supplier: 'OilCo', notes: 'Vegetable oil' },
        { id: 9, name: 'Eggs', category: 'dairy', stock: 60, unit: 'pcs', threshold: 30, supplier: 'Happy Hens', notes: 'Large eggs' },
        { id: 10, name: 'Milk', category: 'dairy', stock: 10.0, unit: 'l', threshold: 5, supplier: 'Dairy King', notes: 'Full fat milk' }
      ];
      
      // Generate sample users
      users = [
        { id: 1, firstName: 'Admin', lastName: 'User', email: 'admin@cafeteria.com', password: 'admin123', role: 'admin', lastLogin: 'Today, 10:30 AM' },
        { id: 2, firstName: 'Manager', lastName: 'User', email: 'manager@cafeteria.com', password: 'manager123', role: 'manager', lastLogin: 'Today, 9:15 AM' },
        { id: 3, firstName: 'Staff', lastName: 'User', email: 'staff@cafeteria.com', password: 'staff123', role: 'staff', lastLogin: 'Yesterday, 4:45 PM' }
      ];
      
      // Generate sample orders
      const orderStatuses = ['pending', 'preparing', 'completed', 'cancelled'];
      const orderTypes = ['dine-in', 'takeaway', 'delivery'];
      
      orders = Array.from({ length: 20 }, (_, i) => {
        const customer = customers[Math.floor(Math.random() * customers.length)];
        const status = orderStatuses[Math.floor(Math.random() * orderStatuses.length)];
        const type = orderTypes[Math.floor(Math.random() * orderTypes.length)];
        const orderDate = new Date(Date.now() - Math.floor(Math.random() * 7 * 24 * 60 * 60 * 1000));
        
        // Generate 1-5 random menu items for the order
        const items = [];
        const numItems = Math.floor(Math.random() * 5) + 1;
        let subtotal = 0;
        
        for (let j = 0; j < numItems; j++) {
          const menuItem = menuItems[Math.floor(Math.random() * menuItems.length)];
          const quantity = Math.floor(Math.random() * 3) + 1;
          const itemTotal = menuItem.price * quantity;
          
          items.push({
            id: menuItem.id,
            name: menuItem.name,
            price: menuItem.price,
            quantity: quantity,
            total: itemTotal
          });
          
          subtotal += itemTotal;
        }
        
        const tax = subtotal * 0.05;
        const discount = Math.random() > 0.7 ? subtotal * 0.1 : 0; // 30% chance of 10% discount
        const total = subtotal + tax - discount;
        
        let completedAt = null;
        let cancelledAt = null;
        
        if (status === 'completed') {
          completedAt = new Date(orderDate.getTime() + Math.floor(Math.random() * 60 * 60 * 1000));
        } else if (status === 'cancelled') {
          cancelledAt = new Date(orderDate.getTime() + Math.floor(Math.random() * 30 * 60 * 1000));
        }
        
        return {
          id: 1000 + i,
          customerId: customer.id,
          customerName: `${customer.firstName} ${customer.lastName}`,
          items: items,
          subtotal: subtotal,
          tax: tax,
          discount: discount,
          total: total,
          status: status,
          type: type,
          notes: Math.random() > 0.5 ? 'Some special instructions' : '',
          orderDate: orderDate,
          completedAt: completedAt,
          cancelledAt: cancelledAt
        };
      });
    }
    
    // ===== DATA LOADING =====
    function loadInitialData() {
      // Load customers
      renderCustomersList();
      
      // Load orders
      renderOrdersTables();
      
      // Load inventory
      renderInventoryTables();
      
      // Load menu items
      renderMenuTables();
      
      // Update customer count
      document.getElementById('customer-count').textContent = `${customers.length} customers`;
      
      // Update low stock count
      const lowStockItems = inventory.filter(item => item.stock < item.threshold);
      document.getElementById('low-stock-count').textContent = lowStockItems.length;
      renderLowStockItems(lowStockItems);
    }
    
    // ===== RENDER FUNCTIONS =====
    
    // Render customers list
    function renderCustomersList(filter = '') {
      const customersList = document.getElementById('customers-list');
      customersList.innerHTML = '';
      
      const filteredCustomers = filter ? 
        customers.filter(c => 
          `${c.firstName} ${c.lastName}`.toLowerCase().includes(filter.toLowerCase()) ||
          c.email.toLowerCase().includes(filter.toLowerCase()) ||
          c.phone.includes(filter)
        ) : 
        customers;
      
      filteredCustomers.forEach(customer => {
        const customerCard = document.createElement('div');
        customerCard.className = 'customer-card';
        
        const initials = `${customer.firstName.charAt(0)}${customer.lastName.charAt(0)}`;
        
        customerCard.innerHTML = `
          <div class="customer-avatar">${initials}</div>
          <div class="customer-info">
            <div class="customer-name">${customer.firstName} ${customer.lastName}</div>
            <div class="customer-detail">${customer.email}</div>
            <div class="customer-detail">${customer.phone} • ${customer.orders} orders</div>
          </div>
          <div class="customer-actions">
            <button class="btn btn-primary btn-sm edit-customer" data-id="${customer.id}">Edit</button>
            <button class="btn btn-danger btn-sm delete-customer" data-id="${customer.id}">Delete</button>
          </div>
        `;
        
        customersList.appendChild(customerCard);
      });
      
      // Add event listeners to customer buttons
      document.querySelectorAll('.edit-customer').forEach(btn => {
        btn.addEventListener('click', () => editCustomer(btn.dataset.id));
      });
      
      document.querySelectorAll('.delete-customer').forEach(btn => {
        btn.addEventListener('click', () => deleteCustomer(btn.dataset.id));
      });
    }
    
    // Render orders tables
    function renderOrdersTables() {
      // All orders table
      renderOrdersTable('orders-table', orders);
      
      // Pending orders
      const pendingOrders = orders.filter(o => o.status === 'pending');
      renderOrdersTable('pending-orders-table', pendingOrders, false);
      
      // Preparing orders
      const preparingOrders = orders.filter(o => o.status === 'preparing');
      renderOrdersTable('preparing-orders-table', preparingOrders, false);
      
      // Completed orders
      const completedOrders = orders.filter(o => o.status === 'completed');
      renderOrdersTable('completed-orders-table', completedOrders, true, true);
      
      // Cancelled orders
      const cancelledOrders = orders.filter(o => o.status === 'cancelled');
      renderOrdersTable('cancelled-orders-table', cancelledOrders, true, false, true);
    }
    
    // Render single orders table
    function renderOrdersTable(tableId, ordersToShow, showStatus = true, showCompletedAt = false, showCancelledAt = false) {
      const tableBody = document.querySelector(`#${tableId} tbody`);
      tableBody.innerHTML = '';
      
      // Sort orders by date (newest first)
      const sortedOrders = [...ordersToShow].sort((a, b) => b.orderDate - a.orderDate);
      
      sortedOrders.forEach(order => {
        const row = document.createElement('tr');
        
        // Format items list
        const itemsList = order.items.map(item => 
          `${item.quantity}x ${item.name} (₹${item.price})`
        ).join('<br>');
        
        // Format dates
        const orderTime = order.orderDate.toLocaleTimeString('en-US', {
          hour: '2-digit',
          minute: '2-digit'
        });
        
        let completedTime = '';
        if (showCompletedAt && order.completedAt) {
          completedTime = order.completedAt.toLocaleTimeString('en-US', {
            hour: '2-digit',
            minute: '2-digit'
          });
        }
        
        let cancelledTime = '';
        if (showCancelledAt && order.cancelledAt) {
          cancelledTime = order.cancelledAt.toLocaleTimeString('en-US', {
            hour: '2-digit',
            minute: '2-digit'
          });
        }
        
        // Status badge
        let statusBadge = '';
        if (showStatus) {
          if (order.status === 'completed') {
            statusBadge = `<span class="badge badge-success">Completed</span>`;
          } else if (order.status === 'preparing') {
            statusBadge = `<span class="badge badge-warning">Preparing</span>`;
          } else if (order.status === 'pending') {
            statusBadge = `<span class="badge badge-warning">Pending</span>`;
          } else {
            statusBadge = `<span class="badge badge-danger">Cancelled</span>`;
          }
        }
        
        // Action buttons
        let actionButtons = '';
        if (!showCompletedAt && !showCancelledAt) {
          if (order.status === 'pending') {
            actionButtons = `
              <button class="btn btn-success btn-sm start-order" data-id="${order.id}">Start</button>
              <button class="btn btn-danger btn-sm cancel-order" data-id="${order.id}">Cancel</button>
            `;
          } else if (order.status === 'preparing') {
            actionButtons = `
              <button class="btn btn-primary btn-sm complete-order" data-id="${order.id}">Complete</button>
            `;
          }
        }
        
        row.innerHTML = `
          <td>#${order.id}</td>
          <td>${order.customerName}</td>
          <td>${itemsList}</td>
          <td>₹${order.total.toFixed(2)}</td>
          <td>${orderTime}</td>
          ${showStatus ? `<td>${statusBadge}</td>` : ''}
          ${showCompletedAt ? `<td>${completedTime}</td>` : ''}
          ${showCancelledAt ? `<td>${cancelledTime}</td>` : ''}
          ${!showCompletedAt && !showCancelledAt ? `<td>${actionButtons}</td>` : ''}
        `;
        
        tableBody.appendChild(row);
      });
      
      // Add event listeners to order buttons
      document.querySelectorAll('.start-order').forEach(btn => {
        btn.addEventListener('click', () => startOrder(btn.dataset.id));
      });
      
      document.querySelectorAll('.complete-order').forEach(btn => {
        btn.addEventListener('click', () => completeOrder(btn.dataset.id));
      });
      
      document.querySelectorAll('.cancel-order').forEach(btn => {
        btn.addEventListener('click', () => cancelOrder(btn.dataset.id));
      });
    }
    
    // Render inventory tables
    function renderInventoryTables() {
      const inventoryTableBody = document.querySelector('#inventory-table tbody');
      inventoryTableBody.innerHTML = '';
      
      inventory.forEach(item => {
        const status = item.stock < item.threshold ? 
          `<span class="badge badge-danger">Low Stock</span>` : 
          `<span class="badge badge-success">In Stock</span>`;
        
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${item.id}</td>
          <td>${item.name}</td>
          <td>${item.category}</td>
          <td>${item.stock} ${item.unit}</td>
          <td>${item.unit}</td>
          <td>${item.threshold} ${item.unit}</td>
          <td>${status}</td>
          <td>
            <button class="btn btn-primary btn-sm edit-inventory" data-id="${item.id}">Edit</button>
            <button class="btn btn-danger btn-sm delete-inventory" data-id="${item.id}">Delete</button>
          </td>
        `;
        
        inventoryTableBody.appendChild(row);
      });
      
      // Add event listeners to inventory buttons
      document.querySelectorAll('.edit-inventory').forEach(btn => {
        btn.addEventListener('click', () => editInventoryItem(btn.dataset.id));
      });
      
      document.querySelectorAll('.delete-inventory').forEach(btn => {
        btn.addEventListener('click', () => deleteInventoryItem(btn.dataset.id));
      });
      
      // Render inventory chart
      renderInventoryChart();
    }
    
    // Render low stock items
    function renderLowStockItems(lowStockItems) {
      const lowStockContainer = document.getElementById('low-stock-items');
      lowStockContainer.innerHTML = '';
      
      if (lowStockItems.length === 0) {
        lowStockContainer.innerHTML = '<div style="padding: 15px; text-align: center;">No low stock items</div>';
        return;
      }
      
      lowStockItems.forEach(item => {
        const alertItem = document.createElement('div');
        alertItem.className = 'alert-item';
        alertItem.style.padding = '10px';
        alertItem.style.borderBottom = '1px solid #eee';
        alertItem.style.display = 'flex';
        alertItem.style.alignItems = 'center';
        
        const percentage = Math.round((item.stock / item.threshold) * 100);
        
        alertItem.innerHTML = `
          <i class="fas fa-exclamation-triangle" style="color: var(--danger); margin-right: 10px;"></i>
          <div style="flex: 1;">
            <div>${item.name}</div>
            <div style="font-size: 0.8rem; color: var(--dark-gray);">
              Current: ${item.stock} ${item.unit} • Threshold: ${item.threshold} ${item.unit} (${percentage}%)
            </div>
          </div>
          <button class="btn btn-primary btn-sm edit-inventory" data-id="${item.id}" style="margin-left: 10px;">Reorder</button>
        `;
        
        lowStockContainer.appendChild(alertItem);
      });
      
      // Add event listeners to reorder buttons
      document.querySelectorAll('.edit-inventory').forEach(btn => {
        btn.addEventListener('click', () => editInventoryItem(btn.dataset.id));
      });
    }
    
    // Render menu tables
    function renderMenuTables() {
      const menuTableBody = document.querySelector('#menu-table tbody');
      menuTableBody.innerHTML = '';
      
      menuItems.forEach(item => {
        const availability = item.available ? 
          `<span class="badge badge-success">Available</span>` : 
          `<span class="badge badge-danger">Unavailable</span>`;
        
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${item.id}</td>
          <td>${item.name}</td>
          <td>${item.category}</td>
          <td>₹${item.price.toFixed(2)}</td>
          <td>${item.ingredients}</td>
          <td>${availability}</td>
          <td>
            <button class="btn btn-primary btn-sm edit-menu-item" data-id="${item.id}">Edit</button>
            <button class="btn btn-danger btn-sm delete-menu-item" data-id="${item.id}">Delete</button>
          </td>
        `;
        
        menuTableBody.appendChild(row);
      });
      
      // Add event listeners to menu item buttons
      document.querySelectorAll('.edit-menu-item').forEach(btn => {
        btn.addEventListener('click', () => editMenuItem(btn.dataset.id));
      });
      
      document.querySelectorAll('.delete-menu-item').forEach(btn => {
        btn.addEventListener('click', () => deleteMenuItem(btn.dataset.id));
      });
      
      // Render menu categories
      renderMenuCategories();
      
      // Render popular items chart
      renderPopularItemsChart();
    }
    
    // Render menu categories
    function renderMenuCategories() {
      const categoriesContainer = document.getElementById('menu-categories');
      categoriesContainer.innerHTML = '';
      
      // Count items per category
      const categoryCounts = {};
      menuItems.forEach(item => {
        if (!categoryCounts[item.category]) {
          categoryCounts[item.category] = 0;
        }
        categoryCounts[item.category]++;
      });
      
      // Create category cards
      for (const [category, count] of Object.entries(categoryCounts)) {
        const categoryCard = document.createElement('div');
        categoryCard.className = 'customer-card';
        categoryCard.style.cursor = 'pointer';
        categoryCard.dataset.category = category;
        
        const formattedCategory = category.split('-').map(word => 
          word.charAt(0).toUpperCase() + word.slice(1)
        ).join(' ');
        
        categoryCard.innerHTML = `
          <div class="customer-avatar" style="background-color: var(--primary);">
            <i class="fas fa-utensils"></i>
          </div>
          <div class="customer-info">
            <div class="customer-name">${formattedCategory}</div>
            <div class="customer-detail">${count} items</div>
          </div>
          <div>
            <i class="fas fa-chevron-right"></i>
          </div>
        `;
        
        categoriesContainer.appendChild(categoryCard);
        
        // Add click event to filter by category
        categoryCard.addEventListener('click', () => {
          filterMenuByCategory(category);
        });
      }
    }
    
    // Filter menu by category
    function filterMenuByCategory(category) {
      const formattedCategory = category.split('-').map(word => 
        word.charAt(0).toUpperCase() + word.slice(1)
      ).join(' ');
      
      // Update table header
      document.querySelector('#menu-table thead tr').innerHTML = `
        <th>Item ID</th>
        <th>Name</th>
        <th>Price</th>
        <th>Ingredients</th>
        <th>Availability</th>
        <th>Actions</th>
      `;
      
      // Filter and render items
      const filteredItems = menuItems.filter(item => item.category === category);
      const menuTableBody = document.querySelector('#menu-table tbody');
      menuTableBody.innerHTML = '';
      
      filteredItems.forEach(item => {
        const availability = item.available ? 
          `<span class="badge badge-success">Available</span>` : 
          `<span class="badge badge-danger">Unavailable</span>`;
        
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${item.id}</td>
          <td>${item.name}</td>
          <td>₹${item.price.toFixed(2)}</td>
          <td>${item.ingredients}</td>
          <td>${availability}</td>
          <td>
            <button class="btn btn-primary btn-sm edit-menu-item" data-id="${item.id}">Edit</button>
            <button class="btn btn-danger btn-sm delete-menu-item" data-id="${item.id}">Delete</button>
          </td>
        `;
        
        menuTableBody.appendChild(row);
      });
      
      // Add back button
      const backRow = document.createElement('tr');
      backRow.innerHTML = `
        <td colspan="6" style="text-align: center;">
          <button class="btn btn-primary" id="back-to-all-menu">
            <i class="fas fa-arrow-left"></i> Back to All Menu Items
          </button>
        </td>
      `;
      menuTableBody.appendChild(backRow);
      
      // Add event listener to back button
      document.getElementById('back-to-all-menu').addEventListener('click', () => {
        renderMenuTables();
      });
      
      // Add event listeners to menu item buttons
      document.querySelectorAll('.edit-menu-item').forEach(btn => {
        btn.addEventListener('click', () => editMenuItem(btn.dataset.id));
      });
      
      document.querySelectorAll('.delete-menu-item').forEach(btn => {
        btn.addEventListener('click', () => deleteMenuItem(btn.dataset.id));
      });
    }
    
    // ===== CHART FUNCTIONS =====
    let demandChart, queueChart, inventoryChart, popularItemsChart;
    let nutritionChart;
    
    function renderCharts() {
      // Destroy existing charts if they exist
      if (demandChart) demandChart.destroy();
      if (queueChart) queueChart.destroy();
      if (inventoryChart) inventoryChart.destroy();
      if (popularItemsChart) popularItemsChart.destroy();
      
      const isDarkMode = document.body.classList.contains('dark-mode');
      const gridColor = isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';
      const textColor = isDarkMode ? 'rgba(255, 255, 255, 0.7)' : '#666';
      
      // DEMAND CHART
      const demandCtx = document.getElementById('demandChart').getContext('2d');
      demandChart = new Chart(demandCtx, {
        type: 'bar',
        data: {
          labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
          datasets: [{
            label: 'Predicted Demand',
            data: [120, 190, 150, 200, 170, 90, 60],
            backgroundColor: isDarkMode ? 'rgba(78, 115, 223, 0.7)' : 'rgba(78, 115, 223, 0.5)',
            borderColor: 'rgba(78, 115, 223, 1)',
            borderWidth: 1
          }, {
            label: 'Actual Demand',
            data: [110, 180, 160, 190, 160, 80, 50],
            backgroundColor: isDarkMode ? 'rgba(28, 200, 138, 0.7)' : 'rgba(28, 200, 138, 0.5)',
            borderColor: 'rgba(28, 200, 138, 1)',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: gridColor
              },
              ticks: {
                color: textColor
              }
            },
            x: {
              grid: {
                color: gridColor
              },
              ticks: {
                color: textColor
              }
            }
          },
          plugins: {
            legend: {
              labels: {
                color: textColor
              }
            }
          }
        }
      });
      
      // QUEUE CHART
      const queueCtx = document.getElementById('queueChart').getContext('2d');
      queueChart = new Chart(queueCtx, {
        type: 'line',
        data: {
          labels: ['8 AM', '10 AM', '12 PM', '2 PM', '4 PM', '6 PM'],
          datasets: [{
            label: 'Average Wait Time (min)',
            data: [2, 5, 15, 8, 4, 3],
            backgroundColor: 'rgba(246, 194, 62, 0.2)',
            borderColor: 'rgba(246, 194, 62, 1)',
            borderWidth: 2,
            tension: 0.4,
            fill: true
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: gridColor
              },
              ticks: {
                color: textColor
              }
            },
            x: {
              grid: {
                color: gridColor
              },
              ticks: {
                color: textColor
              }
            }
          },
          plugins: {
            legend: {
              labels: {
                color: textColor
              }
            }
          }
        }
      });
      
      // INVENTORY CHART
      const inventoryCtx = document.getElementById('inventoryChart').getContext('2d');
      inventoryChart = new Chart(inventoryCtx, {
        type: 'doughnut',
        data: {
          labels: inventory.map(item => item.name),
          datasets: [{
            data: inventory.map(item => item.stock),
            backgroundColor: [
              '#4e73df', '#1cc88a', '#36b9cc', '#f6c23e', '#e74a3b',
              '#858796', '#5a5c69', '#f8f9fc', '#5a5c69', '#d1d3e2'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'right',
              labels: {
                color: textColor
              }
            }
          }
        }
      });
      
      // POPULAR ITEMS CHART
      const popularItemsCtx = document.getElementById('popularItemsChart').getContext('2d');
      
      // Count orders per menu item
      const itemCounts = {};
      orders.forEach(order => {
        order.items.forEach(item => {
          if (!itemCounts[item.name]) {
            itemCounts[item.name] = 0;
          }
          itemCounts[item.name] += item.quantity;
        });
      });
      
      // Get top 5 items
      const sortedItems = Object.entries(itemCounts)
        .sort((a, b) => b[1] - a[1])
        .slice(0, 5);
      
      popularItemsChart = new Chart(popularItemsCtx, {
        type: 'bar',
        data: {
          labels: sortedItems.map(item => item[0]),
          datasets: [{
            label: 'Number of Orders',
            data: sortedItems.map(item => item[1]),
            backgroundColor: isDarkMode ? 'rgba(78, 115, 223, 0.7)' : 'rgba(78, 115, 223, 0.5)',
            borderColor: 'rgba(78, 115, 223, 1)',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: gridColor
              },
              ticks: {
                color: textColor
              }
            },
            x: {
              grid: {
                color: gridColor
              },
              ticks: {
                color: textColor
              }
            }
          },
          plugins: {
            legend: {
              display: false
            }
          }
        }
      });
      
      // NUTRITION CHART (using ApexCharts)
      if (nutritionChart) nutritionChart.destroy();
      
      const nutritionOptions = {
        series: [44, 55, 41, 17, 15],
        chart: {
          type: 'donut',
          height: '300px'
        },
        labels: ['Protein', 'Carbs', 'Fats', 'Fiber', 'Vitamins'],
        colors: ['#4e73df', '#1cc88a', '#f6c23e', '#e74a3b', '#858796'],
        responsive: [{
          breakpoint: 480,
          options: {
            chart: {
              width: 200
            },
            legend: {
              position: 'bottom'
            }
          }
        }],
        legend: {
          position: 'right',
          labels: {
            colors: isDarkMode ? '#fff' : undefined
          }
        }
      };
      
      nutritionChart = new ApexCharts(document.querySelector("#nutritionChart"), nutritionOptions);
      nutritionChart.render();
    }
    
    // ===== CUSTOMER FUNCTIONS =====
    function addCustomer() {
      // Reset form
      document.getElementById('customer-form').reset();
      document.getElementById('customer-modal-title').textContent = 'Add New Customer';
      document.getElementById('delete-customer-btn').style.display = 'none';
      document.getElementById('customer-id').value = '';
      
      // Show modal
      document.getElementById('customer-modal').style.display = 'block';
    }
    
    function editCustomer(id) {
      const customer = customers.find(c => c.id == id);
      if (!customer) return;
      
      // Fill form
      document.getElementById('customer-first-name').value = customer.firstName;
      document.getElementById('customer-last-name').value = customer.lastName;
      document.getElementById('customer-email').value = customer.email;
      document.getElementById('customer-phone').value = customer.phone;
      document.getElementById('customer-address').value = customer.address || '';
      document.getElementById('customer-notes').value = customer.notes || '';
      document.getElementById('customer-id').value = customer.id;
      
      // Update modal title
      document.getElementById('customer-modal-title').textContent = 'Edit Customer';
      document.getElementById('delete-customer-btn').style.display = 'inline-block';
      
      // Show modal
      document.getElementById('customer-modal').style.display = 'block';
    }
    
    function saveCustomer(e) {
      e.preventDefault();
      
      const id = document.getElementById('customer-id').value;
      const firstName = document.getElementById('customer-first-name').value;
      const lastName = document.getElementById('customer-last-name').value;
      const email = document.getElementById('customer-email').value;
      const phone = document.getElementById('customer-phone').value;
      const address = document.getElementById('customer-address').value;
      const notes = document.getElementById('customer-notes').value;
      
      if (id) {
        // Update existing customer
        const index = customers.findIndex(c => c.id == id);
        if (index !== -1) {
          customers[index] = {
            ...customers[index],
            firstName,
            lastName,
            email,
            phone,
            address,
            notes
          };
        }
      } else {
        // Add new customer
        const newId = customers.length > 0 ? Math.max(...customers.map(c => c.id)) + 1 : 1;
        customers.push({
          id: newId,
          firstName,
          lastName,
          email,
          phone,
          address,
          notes,
          orders: 0
        });
      }
      
      // Refresh customers list
      renderCustomersList();
      
      // Close modal
      document.getElementById('customer-modal').style.display = 'none';
      
      // Show success message
      showToast('Customer saved successfully', 'success');
    }
    
    function deleteCustomer(id) {
      if (confirm('Are you sure you want to delete this customer?')) {
        customers = customers.filter(c => c.id != id);
        
        // Also remove any orders for this customer
        orders = orders.filter(o => o.customerId != id);
        
        // Refresh UI
        renderCustomersList();
        renderOrdersTables();
        
        // Close modal if open
        document.getElementById('customer-modal').style.display = 'none';
        
        // Show success message
        showToast('Customer deleted successfully', 'success');
      }
    }
    
    // ===== ORDER FUNCTIONS =====
    function addOrder() {
      // Reset form
      document.getElementById('order-modal-title').textContent = 'Create New Order';
      document.getElementById('order-id').value = '';
      
      // Populate customer dropdown
      const customerSelect = document.getElementById('order-customer');
      customerSelect.innerHTML = '<option value="">Select customer</option>';
      customers.forEach(customer => {
        const option = document.createElement('option');
        option.value = customer.id;
        option.textContent = `${customer.firstName} ${customer.lastName}`;
        customerSelect.appendChild(option);
      });
      
      // Populate menu items table
      const menuItemsTable = document.getElementById('menu-items-table').querySelector('tbody');
      menuItemsTable.innerHTML = '';
      
      menuItems.forEach(item => {
        if (!item.available) return;
        
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${item.name}</td>
          <td>₹${item.price.toFixed(2)}</td>
          <td><input type="number" class="form-control item-quantity" min="0" value="0" data-id="${item.id}" data-price="${item.price}" style="width: 60px;"></td>
          <td class="item-total">₹0.00</td>
          <td><button class="btn btn-primary btn-sm add-item" data-id="${item.id}">Add</button></td>
        `;
        menuItemsTable.appendChild(row);
      });
      
      // Reset order summary
      document.getElementById('order-subtotal').textContent = '₹0.00';
      document.getElementById('order-tax').textContent = '₹0.00';
      document.getElementById('order-discount').textContent = '₹0.00';
      document.getElementById('order-total').textContent = '₹0.00';
      
      // Show modal
      document.getElementById('order-modal').style.display = 'block';
      
      // Add event listeners to quantity inputs and add buttons
      document.querySelectorAll('.item-quantity').forEach(input => {
        input.addEventListener('change', updateItemTotal);
      });
      
      document.querySelectorAll('.add-item').forEach(btn => {
        btn.addEventListener('click', addItemToOrder);
      });
    }
    
    function updateItemTotal(e) {
      const input = e.target;
      const price = parseFloat(input.dataset.price);
      const quantity = parseInt(input.value);
      const total = price * quantity;
      
      const totalCell = input.closest('tr').querySelector('.item-total');
      totalCell.textContent = `₹${total.toFixed(2)}`;
    }
    
    function addItemToOrder(e) {
      const btn = e.target;
      const itemId = btn.dataset.id;
      const row = btn.closest('tr');
      const quantityInput = row.querySelector('.item-quantity');
      const quantity = parseInt(quantityInput.value);
      
      if (quantity <= 0) {
        showToast('Please enter a valid quantity', 'error');
        return;
      }
      
      // For now, just show a success message
      showToast('Item added to order', 'success');
      
      // In a real app, you would add the item to an order object
      // and update the order summary
    }
    
    function saveOrder() {
      // Get form values
      const customerId = document.getElementById('order-customer').value;
      const orderType = document.getElementById('order-type').value;
      const orderNotes = document.getElementById('order-notes').value;
      
      // Validate
      if (!customerId) {
        showToast('Please select a customer', 'error');
        return;
      }
      
      // Get items
      const items = [];
      let subtotal = 0;
      
      document.querySelectorAll('#menu-items-table tbody tr').forEach(row => {
        const quantity = parseInt(row.querySelector('.item-quantity').value);
        if (quantity > 0) {
          const itemId = row.querySelector('.item-quantity').dataset.id;
          const itemName = row.querySelector('td:first-child').textContent;
          const itemPrice = parseFloat(row.querySelector('.item-quantity').dataset.price);
          const itemTotal = itemPrice * quantity;
          
          items.push({
            id: itemId,
            name: itemName,
            price: itemPrice,
            quantity: quantity,
            total: itemTotal
          });
          
          subtotal += itemTotal;
        }
      });
      
      if (items.length === 0) {
        showToast('Please add at least one item to the order', 'error');
        return;
      }
      
      // Calculate totals
      const tax = subtotal * 0.05;
      const discount = 0; // Could add discount field later
      const total = subtotal + tax - discount;
      
      // Get customer
      const customer = customers.find(c => c.id == customerId);
      if (!customer) {
        showToast('Customer not found', 'error');
        return;
      }
      
      // Create or update order
      const orderId = document.getElementById('order-id').value;
      const now = new Date();
      
      if (orderId) {
        // Update existing order
        const index = orders.findIndex(o => o.id == orderId);
        if (index !== -1) {
          orders[index] = {
            ...orders[index],
            customerId: customer.id,
            customerName: `${customer.firstName} ${customer.lastName}`,
            items: items,
            subtotal: subtotal,
            tax: tax,
            discount: discount,
            total: total,
            type: orderType,
            notes: orderNotes
          };
        }
      } else {
        // Create new order
        const newId = orders.length > 0 ? Math.max(...orders.map(o => o.id)) + 1 : 1000;
        
        orders.push({
          id: newId,
          customerId: customer.id,
          customerName: `${customer.firstName} ${customer.lastName}`,
          items: items,
          subtotal: subtotal,
          tax: tax,
          discount: discount,
          total: total,
          status: 'pending',
          type: orderType,
          notes: orderNotes,
          orderDate: now
        });
        
        // Update customer's order count
        customer.orders++;
      }
      
      // Refresh orders tables
      renderOrdersTables();
      
      // Close modal
      document.getElementById('order-modal').style.display = 'none';
      
      // Show success message
      showToast('Order saved successfully', 'success');
    }
    
    function startOrder(id) {
      const order = orders.find(o => o.id == id);
      if (!order) return;
      
      order.status = 'preparing';
      
      // Refresh orders tables
      renderOrdersTables();
      
      // Show success message
      showToast('Order marked as preparing', 'success');
    }
    
    function completeOrder(id) {
      const order = orders.find(o => o.id == id);
      if (!order) return;
      
      order.status = 'completed';
      order.completedAt = new Date();
      
      // Refresh orders tables
      renderOrdersTables();
      
      // Show success message
      showToast('Order marked as completed', 'success');
    }
    
    function cancelOrder(id) {
      if (!confirm('Are you sure you want to cancel this order?')) return;
      
      const order = orders.find(o => o.id == id);
      if (!order) return;
      
      order.status = 'cancelled';
      order.cancelledAt = new Date();
      
      // Refresh orders tables
      renderOrdersTables();
      
      // Show success message
      showToast('Order cancelled', 'success');
    }
    
    // ===== INVENTORY FUNCTIONS =====
    function addInventoryItem() {
      // Reset form
      document.getElementById('inventory-form').reset();
      document.getElementById('inventory-modal-title').textContent = 'Add Inventory Item';
      document.getElementById('delete-inventory-btn').style.display = 'none';
      document.getElementById('inventory-item-id').value = '';
      
      // Show modal
      document.getElementById('inventory-modal').style.display = 'block';
    }
    
    function editInventoryItem(id) {
      const item = inventory.find(i => i.id == id);
      if (!item) return;
      
      // Fill form
      document.getElementById('inventory-name').value = item.name;
      document.getElementById('inventory-category').value = item.category;
      document.getElementById('inventory-stock').value = item.stock;
      document.getElementById('inventory-unit').value = item.unit;
      document.getElementById('inventory-threshold').value = item.threshold;
      document.getElementById('inventory-supplier').value = item.supplier || '';
      document.getElementById('inventory-notes').value = item.notes || '';
      document.getElementById('inventory-item-id').value = item.id;
      
      // Update modal title
      document.getElementById('inventory-modal-title').textContent = 'Edit Inventory Item';
      document.getElementById('delete-inventory-btn').style.display = 'inline-block';
      
      // Show modal
      document.getElementById('inventory-modal').style.display = 'block';
    }
    
    function saveInventoryItem(e) {
      e.preventDefault();
      
      const id = document.getElementById('inventory-item-id').value;
      const name = document.getElementById('inventory-name').value;
      const category = document.getElementById('inventory-category').value;
      const stock = parseFloat(document.getElementById('inventory-stock').value);
      const unit = document.getElementById('inventory-unit').value;
      const threshold = parseFloat(document.getElementById('inventory-threshold').value);
      const supplier = document.getElementById('inventory-supplier').value;
      const notes = document.getElementById('inventory-notes').value;
      
      if (id) {
        // Update existing item
        const index = inventory.findIndex(i => i.id == id);
        if (index !== -1) {
          inventory[index] = {
            ...inventory[index],
            name,
            category,
            stock,
            unit,
            threshold,
            supplier,
            notes
          };
        }
      } else {
        // Add new item
        const newId = inventory.length > 0 ? Math.max(...inventory.map(i => i.id)) + 1 : 1;
        inventory.push({
          id: newId,
          name,
          category,
          stock,
          unit,
          threshold,
          supplier,
          notes
        });
      }
      
      // Refresh inventory tables
      renderInventoryTables();
      
      // Close modal
      document.getElementById('inventory-modal').style.display = 'none';
      
      // Show success message
      showToast('Inventory item saved successfully', 'success');
    }
    
    function deleteInventoryItem(id) {
      if (confirm('Are you sure you want to delete this inventory item?')) {
        inventory = inventory.filter(i => i.id != id);
        
        // Refresh inventory tables
        renderInventoryTables();
        
        // Close modal if open
        document.getElementById('inventory-modal').style.display = 'none';
        
        // Show success message
        showToast('Inventory item deleted successfully', 'success');
      }
    }
    
    // ===== MENU ITEM FUNCTIONS =====
    function addMenuItem() {
      // Reset form
      document.getElementById('menu-item-form').reset();
      document.getElementById('menu-item-modal-title').textContent = 'Add Menu Item';
      document.getElementById('delete-menu-item-btn').style.display = 'none';
      document.getElementById('menu-item-id').value = '';
      document.getElementById('menu-item-available').checked = true;
      
      // Show modal
      document.getElementById('menu-item-modal').style.display = 'block';
    }
    
    function editMenuItem(id) {
      const item = menuItems.find(i => i.id == id);
      if (!item) return;
      
      // Fill form
      document.getElementById('menu-item-name').value = item.name;
      document.getElementById('menu-item-category').value = item.category;
      document.getElementById('menu-item-price').value = item.price;
      document.getElementById('menu-item-description').value = item.description || '';
      document.getElementById('menu-item-ingredients').value = item.ingredients || '';
      document.getElementById('menu-item-image').value = item.image || '';
      document.getElementById('menu-item-available').checked = item.available;
      document.getElementById('menu-item-id').value = item.id;
      
      // Update modal title
      document.getElementById('menu-item-modal-title').textContent = 'Edit Menu Item';
      document.getElementById('delete-menu-item-btn').style.display = 'inline-block';
      
      // Show modal
      document.getElementById('menu-item-modal').style.display = 'block';
    }
    
    function saveMenuItem(e) {
      e.preventDefault();
      
      const id = document.getElementById('menu-item-id').value;
      const name = document.getElementById('menu-item-name').value;
      const category = document.getElementById('menu-item-category').value;
      const price = parseFloat(document.getElementById('menu-item-price').value);
      const description = document.getElementById('menu-item-description').value;
      const ingredients = document.getElementById('menu-item-ingredients').value;
      const image = document.getElementById('menu-item-image').value;
      const available = document.getElementById('menu-item-available').checked;
      
      if (id) {
        // Update existing item
        const index = menuItems.findIndex(i => i.id == id);
        if (index !== -1) {
          menuItems[index] = {
            ...menuItems[index],
            name,
            category,
            price,
            description,
            ingredients,
            image,
            available
          };
        }
      } else {
        // Add new item
        const newId = menuItems.length > 0 ? Math.max(...menuItems.map(i => i.id)) + 1 : 1;
        menuItems.push({
          id: newId,
          name,
          category,
          price,
          description,
          ingredients,
          image,
          available
        });
      }
      
      // Refresh menu tables
      renderMenuTables();
      
      // Close modal
      document.getElementById('menu-item-modal').style.display = 'none';
      
      // Show success message
      showToast('Menu item saved successfully', 'success');
    }
    
    function deleteMenuItem(id) {
      if (confirm('Are you sure you want to delete this menu item?')) {
        // Check if item is used in any orders
        const isUsed = orders.some(order => 
          order.items.some(item => item.id == id)
        );
        
        if (isUsed) {
          showToast('Cannot delete menu item used in existing orders', 'error');
          return;
        }
        
        menuItems = menuItems.filter(i => i.id != id);
        
        // Refresh menu tables
        renderMenuTables();
        
        // Close modal if open
        document.getElementById('menu-item-modal').style.display = 'none';
        
        // Show success message
        showToast('Menu item deleted successfully', 'success');
      }
    }
    
    // ===== USER FUNCTIONS =====
    function addUser() {
      // Reset form
      document.getElementById('user-form').reset();
      document.getElementById('user-modal-title').textContent = 'Add User';
      document.getElementById('delete-user-btn').style.display = 'none';
      document.getElementById('user-id').value = '';
      
      // Show modal
      document.getElementById('user-modal').style.display = 'block';
    }
    
    function editUser(id) {
      const user = users.find(u => u.id == id);
      if (!user) return;
      
      // Fill form
      document.getElementById('user-first-name').value = user.firstName;
      document.getElementById('user-last-name').value = user.lastName;
      document.getElementById('user-email').value = user.email;
      document.getElementById('user-role').value = user.role;
      document.getElementById('user-id').value = user.id;
      
      // Update modal title
      document.getElementById('user-modal-title').textContent = 'Edit User';
      document.getElementById('delete-user-btn').style.display = 'inline-block';
      
      // Show modal
      document.getElementById('user-modal').style.display = 'block';
    }
    
    function saveUser(e) {
      e.preventDefault();
      
      const id = document.getElementById('user-id').value;
      const firstName = document.getElementById('user-first-name').value;
      const lastName = document.getElementById('user-last-name').value;
      const email = document.getElementById('user-email').value;
      const password = document.getElementById('user-password').value;
      const role = document.getElementById('user-role').value;
      
      if (id) {
        // Update existing user
        const index = users.findIndex(u => u.id == id);
        if (index !== -1) {
          users[index] = {
            ...users[index],
            firstName,
            lastName,
            email,
            role,
            lastLogin: 'Today, ' + new Date().toLocaleTimeString('en-US', {
              hour: '2-digit',
              minute: '2-digit'
            })
          };
          
          // Update password if provided
          if (password) {
            users[index].password = password;
          }
        }
      } else {
        // Add new user
        if (!password) {
          showToast('Please enter a password', 'error');
          return;
        }
        
        const newId = users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1;
        users.push({
          id: newId,
          firstName,
          lastName,
          email,
          password,
          role,
          lastLogin: 'Never'
        });
      }
      
      // Refresh users table
      // In a real app, you would refresh the table here
      
      // Close modal
      document.getElementById('user-modal').style.display = 'none';
      
      // Show success message
      showToast('User saved successfully', 'success');
    }
    
    function deleteUser(id) {
      if (confirm('Are you sure you want to delete this user?')) {
        users = users.filter(u => u.id != id);
        
        // In a real app, you would refresh the table here
        
        // Close modal if open
        document.getElementById('user-modal').style.display = 'none';
        
        // Show success message
        showToast('User deleted successfully', 'success');
      }
    }
    
    // ===== UTILITY FUNCTIONS =====
    function updateDateTime() {
      const now = new Date();
      const dateString = now.toLocaleDateString('en-US', { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      });
      
      document.getElementById('current-date').textContent = dateString;
      document.getElementById('orders-date').textContent = dateString;
      document.getElementById('customers-date').textContent = dateString;
      document.getElementById('inventory-date').textContent = dateString;
      document.getElementById('menu-date').textContent = dateString;
      document.getElementById('settings-date').textContent = dateString;
    }
    
    function showToast(message, type = 'success') {
      const toast = document.createElement('div');
      toast.className = `toast toast-${type}`;
      toast.innerHTML = `
        <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
        ${message}
      `;
      
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.opacity = '0';
        toast.style.transition = 'opacity 0.5s';
        setTimeout(() => toast.remove(), 500);
      }, 3000);
    }
    
    function simulateLiveData() {
      // Randomize card values with smooth transitions
      animateValue('predicted-demand', parseInt(document.getElementById('predicted-demand').textContent), Math.floor(150 + Math.random() * 50), 1000);
      animateValue('food-waste', parseInt(document.getElementById('food-waste').textContent), Math.floor(10 + Math.random() * 20), 1000);
      animateValue('active-orders', parseInt(document.getElementById('active-orders').textContent), Math.floor(30 + Math.random() * 20), 1000);
      
      // Update chart data
      if (demandChart) {
        demandChart.data.datasets[0].data = demandChart.data.datasets[0].data.map(
          () => Math.floor(50 + Math.random() * 150)
        );
        demandChart.data.datasets[1].data = demandChart.data.datasets[1].data.map(
          (val, index) => Math.max(0, val + Math.floor(Math.random() * 20 - 10))
        );
        demandChart.update();
      }
      
      // Update queue chart
      if (queueChart) {
        queueChart.data.datasets[0].data = [2, 5, 10 + Math.floor(Math.random() * 10), 8, 4, 3];
        queueChart.update();
      }
      
      // Update last updated time
      const now = new Date();
      document.getElementById('last-updated').textContent = now.toLocaleTimeString('en-US', {
        hour: '2-digit',
        minute: '2-digit'
      });
    }
    
    function animateValue(id, start, end, duration) {
      const obj = document.getElementById(id);
      let startTimestamp = null;
      const step = (timestamp) => {
        if (!startTimestamp) startTimestamp = timestamp;
        const progress = Math.min((timestamp - startTimestamp) / duration, 1);
        obj.innerHTML = Math.floor(progress * (end - start) + start);
        if (progress < 1) {
          window.requestAnimationFrame(step);
        }
      };
      window.requestAnimationFrame(step);
    }
    
    // ===== EVENT LISTENERS =====
    function setupEventListeners() {
      // Dark mode toggle
      const darkModeToggle = document.querySelector('.toggle-dark');
      darkModeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        const icon = darkModeToggle.querySelector('i');
        if (document.body.classList.contains('dark-mode')) {
          icon.classList.remove('fa-moon');
          icon.classList.add('fa-sun');
        } else {
          icon.classList.remove('fa-sun');
          icon.classList.add('fa-moon');
        }
        
        // Re-render charts with dark mode colors
        renderCharts();
      });
      
      // Navigation
      document.querySelectorAll('.nav-item').forEach(item => {
        item.addEventListener('click', () => {
          const pageId = item.id.replace('nav-', 'page-');
          showPage(pageId);
          
          // Update active nav item
          document.querySelectorAll('.nav-item').forEach(navItem => {
            navItem.classList.remove('active');
          });
          item.classList.add('active');
        });
      });
      
      // Tabs
      document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
          const tabId = tab.dataset.tab;
          
          // Update active tab
          document.querySelectorAll('.tab').forEach(t => {
            t.classList.remove('active');
          });
          tab.classList.add('active');
          
          // Show corresponding tab content
          document.querySelectorAll('.tab-content').forEach(content => {
            content.classList.remove('active');
          });
          document.getElementById(`tab-${tabId}`).classList.add('active');
        });
      });
      
      // Search
      document.getElementById('customer-search').addEventListener('input', (e) => {
        renderCustomersList(e.target.value);
      });
      
      document.getElementById('order-search').addEventListener('input', (e) => {
        // Implement order search if needed
      });
      
      // Modal close buttons
      document.querySelectorAll('.close-modal').forEach(btn => {
        btn.addEventListener('click', () => {
          btn.closest('.modal').style.display = 'none';
        });
      });
      
      // Close modals when clicking outside
      window.addEventListener('click', (e) => {
        if (e.target.classList.contains('modal')) {
          e.target.style.display = 'none';
        }
      });
      
      // Form submissions
      document.getElementById('customer-form').addEventListener('submit', saveCustomer);
      document.getElementById('inventory-form').addEventListener('submit', saveInventoryItem);
      document.getElementById('menu-item-form').addEventListener('submit', saveMenuItem);
      document.getElementById('user-form').addEventListener('submit', saveUser);
      
      // Save order button
      document.getElementById('save-order-btn').addEventListener('click', saveOrder);
      
      // Complete order button
      document.getElementById('complete-order-btn').addEventListener('click', () => {
        saveOrder();
        // In a real app, you would mark the order as completed
      });
      
      // Cancel order button
      document.getElementById('cancel-order-btn').addEventListener('click', () => {
        if (confirm('Are you sure you want to cancel this order?')) {
          // In a real app, you would mark the order as cancelled
          document.getElementById('order-modal').style.display = 'none';
          showToast('Order cancelled', 'success');
        }
      });
      
      // Delete buttons
      document.getElementById('delete-customer-btn').addEventListener('click', () => {
        const id = document.getElementById('customer-id').value;
        deleteCustomer(id);
      });
      
      document.getElementById('delete-inventory-btn').addEventListener('click', () => {
        const id = document.getElementById('inventory-item-id').value;
        deleteInventoryItem(id);
      });
      
      document.getElementById('delete-menu-item-btn').addEventListener('click', () => {
        const id = document.getElementById('menu-item-id').value;
        deleteMenuItem(id);
      });
      
      document.getElementById('delete-user-btn').addEventListener('click', () => {
        const id = document.getElementById('user-id').value;
        deleteUser(id);
      });
      
      // Add buttons
      document.getElementById('new-customer-btn').addEventListener('click', addCustomer);
      document.getElementById('new-order-btn').addEventListener('click', addOrder);
      document.getElementById('add-inventory-item').addEventListener('click', addInventoryItem);
      document.getElementById('add-menu-item').addEventListener('click', addMenuItem);
      document.getElementById('add-user-btn').addEventListener('click', addUser);
      
      // Refresh tips button
      document.getElementById('refresh-tips').addEventListener('click', function() {
        const tips = [
          "Implement dynamic pricing for slow-moving items",
          "Create combo meals to move less popular items",
          "Donate unsold food to local shelters at closing",
          "Use smaller plates to reduce portion sizes",
          "Train staff on proper portion control",
          "Offer 'surprise bags' with leftover items",
          "Implement a food waste tracking system",
          "Adjust production based on real-time sales"
        ];
        
        const tipsList = document.getElementById('waste-tips');
        tipsList.innerHTML = '';
        
        // Shuffle tips and pick 3
        const shuffled = tips.sort(() => 0.5 - Math.random());
        for (let i = 0; i < 3; i++) {
          const li = document.createElement('li');
          li.innerHTML = `<i class="fas fa-check-circle" style="color: var(--success);"></i> ${shuffled[i]}`;
          li.style.opacity = '0';
          li.style.transform = 'translateX(-20px)';
          li.style.transition = 'all 0.3s';
          tipsList.appendChild(li);
          
          // Animate in
          setTimeout(() => {
            li.style.opacity = '1';
            li.style.transform = 'translateX(0)';
          }, i * 100);
        }
        
        // Add pulse animation to button
        this.classList.add('pulse');
        setTimeout(() => {
          this.classList.remove('pulse');
        }, 1000);
      });
      
      // Notification bell click
      document.querySelectorAll('.notification-bell').forEach(bell => {
        bell.addEventListener('click', function() {
          const count = this.querySelector('.notification-count');
          count.textContent = '0';
          count.style.background = 'var(--success)';
          
          // Show toast notification
          showToast('Notifications marked as read', 'success');
        });
      });
      
      // Refresh orders button
      document.getElementById('refresh-orders').addEventListener('click', () => {
        // In a real app, you would fetch new orders from the server
        showToast('Orders refreshed', 'success');
      });
    }
    
    // ===== PAGE NAVIGATION =====
    function showPage(pageId) {
      // Hide all pages
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      
      // Show selected page
      document.getElementById(pageId).classList.add('active');
      
      // Update page title
      const pageTitle = document.getElementById(pageId).querySelector('h1');
      if (pageTitle) {
        document.title = `${pageTitle.textContent} | SCE Dashboard`;
      }
      
      // Scroll to top
      window.scrollTo(0, 0);
    }
  </script>
</body>
</html>